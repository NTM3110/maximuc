<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<configuration>
  <driver id="virtual">
    <device id="serial_port">
      <description>Virtual Serial Ports</description>
      <disabled>false</disabled>
      <channel id="dev_serial_comm_number">
        <description>Virtual Serial Port Number</description>
        <valueType>INTEGER</valueType>
        <samplingInterval>2m</samplingInterval>
        <disabled>false</disabled>
      </channel>
      <channel id="dev_serial_comm_0">
        <description>Virtual Serial Port 0</description>
        <valueType length="128">STRING</valueType>
        <samplingInterval>2m</samplingInterval>
        <disabled>false</disabled>
      </channel>
      <channel id="dev_serial_comm_1">
        <description>Virtual Serial Port 1</description>
        <valueType length="128">STRING</valueType>
        <samplingInterval>2m</samplingInterval>
        <disabled>false</disabled>
      </channel>
      <channel id="dev_serial_comm_2">
        <description>Virtual Serial Port 2</description>
        <valueType length="128">STRING</valueType>
        <samplingInterval>2m</samplingInterval>
        <disabled>false</disabled>
      </channel>
    </device>
    <device id="virtual_site">
      <description>Site Name</description>
      <disabled>false</disabled>
      <channel id="site_name_1">
        <description>Site Name</description>
        <valueType length="64">STRING</valueType>
        <samplingInterval>2m</samplingInterval>
        <disabled>false</disabled>
      </channel>
    </device>
    <device id="account_manager">
      <description>Account Management</description>
      <disabled>false</disabled>
      <channel id="account_1_username">
        <description>Account 1 Username</description>
        <valueType length="128">STRING</valueType>
        <samplingInterval>2m</samplingInterval>
        <disabled>false</disabled>
      </channel>
      <channel id="account_1_password">
        <description>Account 1 Password</description>
        <valueType length="128">STRING</valueType>
        <samplingInterval>2m</samplingInterval>
        <disabled>false</disabled>
      </channel>
    </device>
    <device id="str1_virtual">
      <description>String 1 calculated channels</description>
      <disabled>false</disabled>
      <channel id="str1_cell_qty">
        <description>number of cells</description>
        <valueType>INTEGER</valueType>
        <loggingInterval>1m</loggingInterval>
        <loggingSettings>mqttlogger:topic=v1/gateway/telemetry</loggingSettings>
        <disabled>false</disabled>
      </channel>
      <channel id="str1_Cnominal">
        <description>C nominal</description>
        <unit>Ah</unit>
        <valueType>DOUBLE</valueType>
        <loggingInterval>1m</loggingInterval>
        <loggingSettings>mqttlogger:topic=v1/gateway/telemetry</loggingSettings>
        <disabled>false</disabled>
      </channel>
      <channel id="str1_string_name">
        <description>String name</description>
        <valueType length="64">STRING</valueType>
        <loggingInterval>1m</loggingInterval>
        <loggingSettings>mqttlogger:topic=v1/gateway/telemetry</loggingSettings>
        <disabled>false</disabled>
      </channel>
      <channel id="str1_cell_brand">
        <description>Cell Brand</description>
        <valueType length="64">STRING</valueType>
        <loggingInterval>1m</loggingInterval>
        <loggingSettings>mqttlogger:topic=v1/gateway/telemetry</loggingSettings>
        <disabled>false</disabled>
      </channel>
      <channel id="str1_cell_model">
        <description>Cell Model</description>
        <valueType length="64">STRING</valueType>
        <loggingInterval>1m</loggingInterval>
        <loggingSettings>mqttlogger:topic=v1/gateway/telemetry</loggingSettings>
        <disabled>false</disabled>
      </channel>
      <channel id="str1_Vcutoff">
        <description>V Cutoff</description>
        <unit>V</unit>
        <valueType>DOUBLE</valueType>
        <loggingInterval>1m</loggingInterval>
        <loggingSettings>mqttlogger:topic=v1/gateway/telemetry</loggingSettings>
        <disabled>false</disabled>
      </channel>
      <channel id="str1_Vfloat">
        <description>V Vfloat</description>
        <unit>V</unit>
        <valueType>DOUBLE</valueType>
        <loggingInterval>1m</loggingInterval>
        <loggingSettings>mqttlogger:topic=v1/gateway/telemetry</loggingSettings>
        <disabled>false</disabled>
      </channel>
      <channel id="str1_serial_port_id">
        <description>Serial port id</description>
        <unit>ID</unit>
        <valueType length="64">STRING</valueType>
        <loggingInterval>1m</loggingInterval>
        <loggingSettings>mqttlogger:topic=v1/gateway/telemetry</loggingSettings>
        <disabled>false</disabled>
      </channel>
      <channel id="str1_string_vol">
        <description>String Voltage</description>
        <unit>V</unit>
        <valueType>DOUBLE</valueType>
        <loggingInterval>1m</loggingInterval>
        <loggingSettings>mqttlogger:topic=v1/gateway/telemetry</loggingSettings>
        <disabled>false</disabled>
      </channel>
      <channel id="str1_max_voltage_cell_id">
        <description>Max V Cell ID</description>
        <valueType>INTEGER</valueType>
        <loggingInterval>1m</loggingInterval>
        <loggingSettings>mqttlogger:topic=v1/gateway/telemetry</loggingSettings>
        <disabled>false</disabled>
      </channel>
      <channel id="str1_min_voltage_cell_id">
        <description>Min V Cell ID</description>
        <valueType>INTEGER</valueType>
        <loggingInterval>1m</loggingInterval>
        <loggingSettings>mqttlogger:topic=v1/gateway/telemetry</loggingSettings>
        <disabled>false</disabled>
      </channel>
      <channel id="str1_max_temp_cell_id">
        <description>Max T Cell ID</description>
        <valueType>INTEGER</valueType>
        <loggingInterval>1m</loggingInterval>
        <loggingSettings>mqttlogger:topic=v1/gateway/telemetry</loggingSettings>
        <disabled>false</disabled>
      </channel>
      <channel id="str1_min_temp_cell_id">
        <description>Min T Cell ID</description>
        <valueType>INTEGER</valueType>
        <loggingInterval>1m</loggingInterval>
        <loggingSettings>mqttlogger:topic=v1/gateway/telemetry</loggingSettings>
        <disabled>false</disabled>
      </channel>
      <channel id="str1_max_rst_cell_id">
        <description>Max R Cell ID</description>
        <valueType>INTEGER</valueType>
        <loggingInterval>1m</loggingInterval>
        <loggingSettings>mqttlogger:topic=v1/gateway/telemetry</loggingSettings>
        <disabled>false</disabled>
      </channel>
      <channel id="str1_min_rst_cell_id">
        <description>Min R Cell ID</description>
        <valueType>INTEGER</valueType>
        <loggingInterval>1m</loggingInterval>
        <loggingSettings>mqttlogger:topic=v1/gateway/telemetry</loggingSettings>
        <disabled>false</disabled>
      </channel>
      <channel id="str1_average_vol">
        <description>Average Cell Voltage</description>
        <unit>V</unit>
        <valueType>DOUBLE</valueType>
        <loggingInterval>1m</loggingInterval>
        <loggingSettings>mqttlogger:topic=v1/gateway/telemetry</loggingSettings>
        <disabled>false</disabled>
      </channel>
      <channel id="str1_average_temp">
        <description>Average Cell Temperature</description>
        <unit>C</unit>
        <valueType>DOUBLE</valueType>
        <loggingInterval>1m</loggingInterval>
        <loggingSettings>mqttlogger:topic=v1/gateway/telemetry</loggingSettings>
        <disabled>false</disabled>
      </channel>
      <channel id="str1_average_rst">
        <description>Average Cell R</description>
        <unit>miliOhm</unit>
        <valueType>DOUBLE</valueType>
        <loggingInterval>1m</loggingInterval>
        <loggingSettings>mqttlogger:topic=v1/gateway/telemetry</loggingSettings>
        <disabled>false</disabled>
      </channel>
      <channel id="str1_max_voltage_value">
        <description>Max Cell Voltage</description>
        <unit>V</unit>
        <valueType>DOUBLE</valueType>
        <loggingInterval>1m</loggingInterval>
        <loggingSettings>mqttlogger:topic=v1/gateway/telemetry</loggingSettings>
        <disabled>false</disabled>
      </channel>
      <channel id="str1_min_voltage_value">
        <description>Min Cell Voltage</description>
        <unit>V</unit>
        <valueType>DOUBLE</valueType>
        <loggingInterval>1m</loggingInterval>
        <loggingSettings>mqttlogger:topic=v1/gateway/telemetry</loggingSettings>
        <disabled>false</disabled>
      </channel>
      <channel id="str1_max_temp_value">
        <description>Max Cell Temperature</description>
        <unit>C</unit>
        <valueType>DOUBLE</valueType>
        <loggingInterval>1m</loggingInterval>
        <loggingSettings>mqttlogger:topic=v1/gateway/telemetry</loggingSettings>
        <disabled>false</disabled>
      </channel>
      <channel id="str1_min_temp_value">
        <description>Min Cell Temperature</description>
        <unit>C</unit>
        <valueType>DOUBLE</valueType>
        <loggingInterval>1m</loggingInterval>
        <loggingSettings>mqttlogger:topic=v1/gateway/telemetry</loggingSettings>
        <disabled>false</disabled>
      </channel>
      <channel id="str1_max_rst_value">
        <description>Max Cell Internal Resistance</description>
        <unit>miliOhm</unit>
        <valueType>DOUBLE</valueType>
        <loggingInterval>1m</loggingInterval>
        <loggingSettings>mqttlogger:topic=v1/gateway/telemetry</loggingSettings>
        <disabled>false</disabled>
      </channel>
      <channel id="str1_min_rst_value">
        <description>Min Cell Internal Resistance</description>
        <unit>miliOhm</unit>
        <valueType>DOUBLE</valueType>
        <loggingInterval>1m</loggingInterval>
        <loggingSettings>mqttlogger:topic=v1/gateway/telemetry</loggingSettings>
        <disabled>false</disabled>
      </channel>
      <channel id="str1_string_SOC">
        <description>String SoC</description>
        <unit>%</unit>
        <valueType>DOUBLE</valueType>
        <loggingInterval>1m</loggingInterval>
        <loggingSettings>mqttlogger:topic=v1/gateway/telemetry</loggingSettings>
        <disabled>false</disabled>
      </channel>
      <channel id="str1_string_SOH">
        <description>String SoH</description>
        <unit>%</unit>
        <valueType>DOUBLE</valueType>
        <loggingInterval>1m</loggingInterval>
        <loggingSettings>mqttlogger:topic=v1/gateway/telemetry</loggingSettings>
        <disabled>false</disabled>
      </channel>
      <channel id="str1_cell1_SOC">
        <description>State of Charge</description>
        <unit>%</unit>
        <valueType>DOUBLE</valueType>
        <loggingInterval>1m</loggingInterval>
        <loggingSettings>mqttlogger:topic=v1/gateway/telemetry</loggingSettings>
        <disabled>false</disabled>
      </channel>
      <channel id="str1_cell1_SOH">
        <description>State of Health</description>
        <unit>%</unit>
        <valueType>DOUBLE</valueType>
        <loggingInterval>1m</loggingInterval>
        <loggingSettings>mqttlogger:topic=v1/gateway/telemetry</loggingSettings>
        <disabled>false</disabled>
      </channel>
      <channel id="str1_cell2_SOC">
        <description>State of Charge</description>
        <unit>%</unit>
        <valueType>DOUBLE</valueType>
        <loggingInterval>1m</loggingInterval>
        <loggingSettings>mqttlogger:topic=v1/gateway/telemetry</loggingSettings>
        <disabled>false</disabled>
      </channel>
      <channel id="str1_cell2_SOH">
        <description>State of Health</description>
        <unit>%</unit>
        <valueType>DOUBLE</valueType>
        <loggingInterval>1m</loggingInterval>
        <loggingSettings>mqttlogger:topic=v1/gateway/telemetry</loggingSettings>
        <disabled>false</disabled>
      </channel>
      <channel id="str1_cell3_SOC">
        <description>State of Charge</description>
        <unit>%</unit>
        <valueType>DOUBLE</valueType>
        <loggingInterval>1m</loggingInterval>
        <loggingSettings>mqttlogger:topic=v1/gateway/telemetry</loggingSettings>
        <disabled>false</disabled>
      </channel>
      <channel id="str1_cell3_SOH">
        <description>State of Health</description>
        <unit>%</unit>
        <valueType>DOUBLE</valueType>
        <loggingInterval>1m</loggingInterval>
        <loggingSettings>mqttlogger:topic=v1/gateway/telemetry</loggingSettings>
        <disabled>false</disabled>
      </channel>
    </device>
  </driver>
  <driver id="modbus">
    <device id="str1_modbus">
      <description>String 1 Modbus RTU</description>
      <deviceAddress>/dev/ttyS1</deviceAddress>
      <settings>RTU:SERIAL_ENCODING_RTU:9600:DATABITS_8:PARITY_NONE:STOPBITS_1:ECHO_FALSE:FLOWCONTROL_NONE:FLOWCONTROL_NONE</settings>
      <samplingTimeout>15s</samplingTimeout>
      <connectRetryInterval>15s</connectRetryInterval>
      <disabled>false</disabled>
      <channel id="str1_cell1_R">
        <description>Cell (R) (str1_cell1)</description>
        <channelAddress>1:HOLDING_REGISTERS:0:INT16</channelAddress>
        <serverMapping id="modbus">HOLDING_REGISTERS:1002:INTEGER</serverMapping>
        <valueType>INTEGER</valueType>
        <samplingInterval>4s</samplingInterval>
        <samplingTimeOffset>0</samplingTimeOffset>
        <samplingGroup>str1_sg_slave_1</samplingGroup>
        <loggingInterval>1m</loggingInterval>
        <loggingSettings>mqttlogger:topic=v1/gateway/telemetry</loggingSettings>
        <disabled>false</disabled>
      </channel>
      <channel id="str1_cell1_V">
        <description>Cell (V) (str1_cell1)</description>
        <channelAddress>1:HOLDING_REGISTERS:1:INT16</channelAddress>
        <serverMapping id="modbus">HOLDING_REGISTERS:1302:INTEGER</serverMapping>
        <valueType>INTEGER</valueType>
        <samplingInterval>4s</samplingInterval>
        <samplingTimeOffset>0</samplingTimeOffset>
        <samplingGroup>str1_sg_slave_1</samplingGroup>
        <loggingInterval>1m</loggingInterval>
        <loggingSettings>mqttlogger:topic=v1/gateway/telemetry</loggingSettings>
        <disabled>false</disabled>
      </channel>
      <channel id="str1_cell1_T">
        <description>Cell (T) (str1_cell1)</description>
        <channelAddress>1:HOLDING_REGISTERS:2:INT16</channelAddress>
        <serverMapping id="modbus">HOLDING_REGISTERS:1602:INTEGER</serverMapping>
        <valueType>INTEGER</valueType>
        <samplingInterval>4s</samplingInterval>
        <samplingTimeOffset>0</samplingTimeOffset>
        <samplingGroup>str1_sg_slave_1</samplingGroup>
        <loggingInterval>1m</loggingInterval>
        <loggingSettings>mqttlogger:topic=v1/gateway/telemetry</loggingSettings>
        <disabled>false</disabled>
      </channel>
      <channel id="str1_cell2_R">
        <description>Cell (R) (str1_cell2)</description>
        <channelAddress>2:HOLDING_REGISTERS:0:INT16</channelAddress>
        <serverMapping id="modbus">HOLDING_REGISTERS:1004:INTEGER</serverMapping>
        <valueType>INTEGER</valueType>
        <samplingInterval>4s</samplingInterval>
        <samplingTimeOffset>50ms</samplingTimeOffset>
        <samplingGroup>str1_sg_slave_2</samplingGroup>
        <loggingInterval>1m</loggingInterval>
        <loggingSettings>mqttlogger:topic=v1/gateway/telemetry</loggingSettings>
        <disabled>false</disabled>
      </channel>
      <channel id="str1_cell2_V">
        <description>Cell (V) (str1_cell2)</description>
        <channelAddress>2:HOLDING_REGISTERS:1:INT16</channelAddress>
        <serverMapping id="modbus">HOLDING_REGISTERS:1304:INTEGER</serverMapping>
        <valueType>INTEGER</valueType>
        <samplingInterval>4s</samplingInterval>
        <samplingTimeOffset>50ms</samplingTimeOffset>
        <samplingGroup>str1_sg_slave_2</samplingGroup>
        <loggingInterval>1m</loggingInterval>
        <loggingSettings>mqttlogger:topic=v1/gateway/telemetry</loggingSettings>
        <disabled>false</disabled>
      </channel>
      <channel id="str1_cell2_T">
        <description>Cell (T) (str1_cell2)</description>
        <channelAddress>2:HOLDING_REGISTERS:2:INT16</channelAddress>
        <serverMapping id="modbus">HOLDING_REGISTERS:1604:INTEGER</serverMapping>
        <valueType>INTEGER</valueType>
        <samplingInterval>4s</samplingInterval>
        <samplingTimeOffset>50ms</samplingTimeOffset>
        <samplingGroup>str1_sg_slave_2</samplingGroup>
        <loggingInterval>1m</loggingInterval>
        <loggingSettings>mqttlogger:topic=v1/gateway/telemetry</loggingSettings>
        <disabled>false</disabled>
      </channel>
      <channel id="str1_cell3_R">
        <description>Cell (R) (str1_cell3)</description>
        <channelAddress>3:HOLDING_REGISTERS:0:INT16</channelAddress>
        <serverMapping id="modbus">HOLDING_REGISTERS:1006:INTEGER</serverMapping>
        <valueType>INTEGER</valueType>
        <samplingInterval>4s</samplingInterval>
        <samplingTimeOffset>100ms</samplingTimeOffset>
        <samplingGroup>str1_sg_slave_3</samplingGroup>
        <loggingInterval>1m</loggingInterval>
        <loggingSettings>mqttlogger:topic=v1/gateway/telemetry</loggingSettings>
        <disabled>false</disabled>
      </channel>
      <channel id="str1_cell3_V">
        <description>Cell (V) (str1_cell3)</description>
        <channelAddress>3:HOLDING_REGISTERS:1:INT16</channelAddress>
        <serverMapping id="modbus">HOLDING_REGISTERS:1306:INTEGER</serverMapping>
        <valueType>INTEGER</valueType>
        <samplingInterval>4s</samplingInterval>
        <samplingTimeOffset>100ms</samplingTimeOffset>
        <samplingGroup>str1_sg_slave_3</samplingGroup>
        <loggingInterval>1m</loggingInterval>
        <loggingSettings>mqttlogger:topic=v1/gateway/telemetry</loggingSettings>
        <disabled>false</disabled>
      </channel>
      <channel id="str1_cell3_T">
        <description>Cell (T) (str1_cell3)</description>
        <channelAddress>3:HOLDING_REGISTERS:2:INT16</channelAddress>
        <serverMapping id="modbus">HOLDING_REGISTERS:1606:INTEGER</serverMapping>
        <valueType>INTEGER</valueType>
        <samplingInterval>4s</samplingInterval>
        <samplingTimeOffset>100ms</samplingTimeOffset>
        <samplingGroup>str1_sg_slave_3</samplingGroup>
        <loggingInterval>1m</loggingInterval>
        <loggingSettings>mqttlogger:topic=v1/gateway/telemetry</loggingSettings>
        <disabled>false</disabled>
      </channel>
      <channel id="str1_total_I">
        <description>String 1 (I)</description>
        <channelAddress>206:HOLDING_REGISTERS:0:INT16</channelAddress>
        <valueType>INTEGER</valueType>
        <samplingInterval>4s</samplingInterval>
        <samplingTimeOffset>250ms</samplingTimeOffset>
        <loggingInterval>1m</loggingInterval>
        <loggingSettings>mqttlogger:topic=v1/gateway/telemetry</loggingSettings>
        <disabled>false</disabled>
      </channel>
      <channel id="str1_ambient_T">
        <description>String 1 (ambient T)</description>
        <channelAddress>106:HOLDING_REGISTERS:2:INT16</channelAddress>
        <valueType>INTEGER</valueType>
        <samplingInterval>4s</samplingInterval>
        <samplingTimeOffset>250ms</samplingTimeOffset>
        <loggingInterval>1m</loggingInterval>
        <loggingSettings>mqttlogger:topic=v1/gateway/telemetry</loggingSettings>
        <disabled>false</disabled>
      </channel>
    </device>
  </driver>
</configuration>
