import{f as h,a as _}from"../chunks/BvcnRxV3.js";import{p as ls,at as v,a7 as M,s as i,t as q,g as s,a as ns,d as l,c as o,r as t}from"../chunks/BF58R_c0.js";import{s as g}from"../chunks/B_YZgT57.js";import{i as H}from"../chunks/-VyRmxmc.js";import{r as V,a as m}from"../chunks/Cgh8k5fy.js";import{s as w}from"../chunks/BxPf8j-7.js";import{d as vs,e as ms}from"../chunks/in_xl-lZ.js";import{b as j}from"../chunks/CGPT4jpp.js";import{s as ws}from"../chunks/BDygqj0r.js";import{c as us}from"../chunks/BlcqOxAJ.js";var cs=h('<span class="error-message svelte-8ue6mq"> </span>'),ps=h('<span class="error-message svelte-8ue6mq"> </span>'),fs=h('<span class="error-message svelte-8ue6mq"> </span>'),Ps=h('<span class="error-message svelte-8ue6mq"> </span>'),bs=h('<div class="page-container svelte-8ue6mq"><div class="header-content svelte-8ue6mq"><h1 class="page-title svelte-8ue6mq"><i class="bi bi-person title-icon svelte-8ue6mq"></i> Account Settings</h1> <p class="page-subtitle svelte-8ue6mq">Change Administrator Password</p></div> <div class="account-card svelte-8ue6mq"><div class="card-header svelte-8ue6mq"><h2 class="svelte-8ue6mq">Change password</h2></div> <div class="card-content svelte-8ue6mq"><form class="account-form svelte-8ue6mq"><div class="form-field svelte-8ue6mq"><label for="oldPassword" class="svelte-8ue6mq">Old password</label> <div class="input-wrapper svelte-8ue6mq"><input id="oldPassword" placeholder="Enter your current password"/> <button type="button" class="toggle-btn svelte-8ue6mq"><i></i></button></div> <!></div> <div class="form-field svelte-8ue6mq"><label for="newPassword" class="svelte-8ue6mq">New password</label> <div class="input-wrapper svelte-8ue6mq"><input id="newPassword" placeholder="Enter your new password"/> <button type="button" class="toggle-btn svelte-8ue6mq"><i></i></button></div> <!></div> <div class="form-field svelte-8ue6mq"><label for="confirmPassword" class="svelte-8ue6mq">Confirm new password</label> <div class="input-wrapper svelte-8ue6mq"><input id="confirmPassword" placeholder="Confirm your new password"/> <button type="button" class="toggle-btn svelte-8ue6mq"><i></i></button></div> <!> <!></div> <button type="submit" class="btn-primary save-button svelte-8ue6mq"> </button></form></div></div></div>');function Ns(Q,R){ls(R,!0);let u=v(!0),c=v(!0),p=v(!0),y=v(!1),d=v(M({oldPassword:"",newPassword:"",confirmPassword:""})),r=v(M({oldPassword:"",newPassword:"",confirmPassword:"",form:""}));function U(){return l(r,{oldPassword:"",newPassword:"",confirmPassword:"",form:""},!0),s(d).oldPassword.trim()||(s(r).oldPassword="Old password is required"),s(d).newPassword.trim()||(s(r).newPassword="New password is required"),s(d).confirmPassword.trim()?s(d).newPassword!==s(d).confirmPassword&&(s(r).form="Passwords do not match!"):s(r).confirmPassword="Please confirm your password",!s(r).oldPassword&&!s(r).newPassword&&!s(r).confirmPassword&&!s(r).form}async function W(e){if(e.preventDefault(),!!U()){l(y,!0);try{await us(s(d).oldPassword,s(d).newPassword)&&(l(d,{oldPassword:"",newPassword:"",confirmPassword:""},!0),l(r,{oldPassword:"",newPassword:"",confirmPassword:"",form:""},!0))}catch(a){ws(a.message||"Failed to change password","error")}finally{l(y,!1)}}}function k(e){e==="old"?l(u,!s(u)):e==="new"?l(c,!s(c)):l(p,!s(p))}var N=bs(),z=i(o(N),2),B=i(o(z),2),O=o(B),$=o(O),A=i(o($),2),f=o(A);V(f);let G;var x=i(f,2);x.__click=()=>k("old");var X=o(x);t(x),t(A);var Y=i(A,2);{var Z=e=>{var a=cs(),n=o(a,!0);t(a),q(()=>g(n,s(r).oldPassword)),_(e,a)};H(Y,e=>{s(r).oldPassword&&e(Z)})}t($);var D=i($,2),E=i(o(D),2),P=o(E);V(P);let I;var S=i(P,2);S.__click=()=>k("new");var ss=o(S);t(S),t(E);var es=i(E,2);{var rs=e=>{var a=ps(),n=o(a,!0);t(a),q(()=>g(n,s(r).newPassword)),_(e,a)};H(es,e=>{s(r).newPassword&&e(rs)})}t(D);var F=i(D,2),L=i(o(F),2),b=o(L);V(b);let J;var C=i(b,2);C.__click=()=>k("confirm");var as=o(C);t(C),t(L);var K=i(L,2);{var os=e=>{var a=fs(),n=o(a,!0);t(a),q(()=>g(n,s(r).confirmPassword)),_(e,a)};H(K,e=>{s(r).confirmPassword&&e(os)})}var ts=i(K,2);{var is=e=>{var a=Ps(),n=o(a,!0);t(a),q(()=>g(n,s(r).form)),_(e,a)};H(ts,e=>{s(r).form&&e(is)})}t(F);var T=i(F,2),ds=o(T,!0);t(T),t(O),t(B),t(z),t(N),q(()=>{m(f,"type",s(u)?"password":"text"),G=w(f,1,"svelte-8ue6mq",null,G,{error:s(r).oldPassword}),m(x,"title",s(u)?"Show password":"Hide password"),w(X,1,`bi ${s(u)?"bi-eye-slash":"bi-eye"}`,"svelte-8ue6mq"),m(P,"type",s(c)?"password":"text"),I=w(P,1,"svelte-8ue6mq",null,I,{error:s(r).newPassword}),m(S,"title",s(c)?"Show password":"Hide password"),w(ss,1,`bi ${s(c)?"bi-eye-slash":"bi-eye"}`,"svelte-8ue6mq"),m(b,"type",s(p)?"password":"text"),J=w(b,1,"svelte-8ue6mq",null,J,{error:s(r).confirmPassword||s(r).form}),m(C,"title",s(p)?"Show password":"Hide password"),w(as,1,`bi ${s(p)?"bi-eye-slash":"bi-eye"}`,"svelte-8ue6mq"),T.disabled=s(y),g(ds,s(y)?"Saving...":"Save Changes")}),ms("submit",O,W),j(f,()=>s(d).oldPassword,e=>s(d).oldPassword=e),j(P,()=>s(d).newPassword,e=>s(d).newPassword=e),j(b,()=>s(d).confirmPassword,e=>s(d).confirmPassword=e),_(Q,N),ns()}vs(["click"]);export{Ns as component};
